<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Th√¥ng tin ng∆∞·ªùi d√πng</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }

        body {
            margin: 0;
            padding: 40px;
            background: #f3f6f9;
            color: #333;
        }

        h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .container {
            max-width: 1000px;
            margin: auto;
            background: #ffffff;
            padding: 30px 40px;
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }

        .info {
            margin-bottom: 30px;
            font-size: 16px;
        }

        .info p span {
            font-weight: bold;
            color: #0077cc;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        thead {
            background-color: #0077cc;
            color: #ffffff;
        }

        th, td {
            padding: 14px 16px;
            text-align: left;
            font-size: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        tbody tr:hover {
            background-color: #f1f9ff;
        }

        .status {
            font-weight: bold;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            display: inline-block;
        }

        .status-cho {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeeba;
        }

        .status-da-xn {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-da-huy {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status-khong-ro {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .pagination {
            margin-top: 20px;
            text-align: center;
        }

        .pagination a {
            margin: 0 5px;
            padding: 5px 10px;
            text-decoration: none;
            border: 1px solid #0077cc;
            color: #0077cc;
            border-radius: 5px;
        }

        .pagination a.current-page {
            background-color: #0077cc;
            color: white;
            font-weight: bold;
        }

        @media screen and (max-width: 768px) {
            .container {
                padding: 20px;
            }

            table, thead, tbody, th, td, tr {
                font-size: 13px;
            }

            .info p {
                margin-bottom: 10px;
            }
        }
        .home-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background-color: #4ca1af;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .home-button:hover {
            background-color: #357e87;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .home-icon {
            font-size: 18px;
            transition: transform 0.3s ease;
        }

        .home-button:hover .home-icon {
            transform: scale(1.2) rotate(-5deg);
        }

    </style>
</head>
<body>
<div class="container">
    <a th:href="@{/ve-trang-chu}" class="home-button">
        <span class="home-icon">üè†</span> Trang ch·ªß
    </a>
    <h2>Th√¥ng tin t√†i kho·∫£n</h2>
    <div class="info">
        <p>H·ªç t√™n: <span th:text="${taiKhoan.ho_ten}">Nguy·ªÖn VƒÉn A</span></p>
        <p>Email: <span th:text="${taiKhoan.email}">a@gmail.com</span></p>
        <p>S·ªë ƒëi·ªán tho·∫°i: <span th:text="${taiKhoan.so_dien_thoai}">0123456789</span></p>
        <p>Vai tr√≤: <span th:text="${taiKhoan.vai_tro=='NGUOI_DUNG'?'Ng∆∞·ªùi d√πng':'Qu·∫£n tr·ªã'}">Ng∆∞·ªùi d√πng</span></p>
    </div>

    <h2>L·ªãch s·ª≠ ƒë·∫∑t s√¢n</h2>
    <div class="history" th:if="${lichSuPage != null and !lichSuPage.empty}">
        <table>
            <thead>
            <tr>
                <th>STT</th>
                <th>T√™n s√¢n</th>
                <th>Ng√†y ƒë·∫∑t</th>
                <th>Khung gi·ªù</th>
                <th>Gi√°</th>
                <th>Ghi ch√∫</th>
                <th>Tr·∫°ng th√°i</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="lich, iterStat : ${lichSuPage.content}">
                <td th:text="${iterStat.index + 1 + (lichSuPage.number * lichSuPage.size)}">1</td>
                <td th:text="${lich.sanBong.ten_san_bong}">S√¢n A</td>
                <td th:text="${lich.ngayDat.format(dateFormatter)}">01/01/2025</td>
                <td th:text="${lich.giaTheoKhungGio.khungGio.gioBatDau + ' - ' + lich.giaTheoKhungGio.khungGio.gioKetThuc}">6:00 - 7:00</td>
                <td th:text="${#numbers.formatDecimal(lich.giaApDung, 0, 'COMMA', 3, 'POINT')} + ' ƒë'">100.000 ƒë</td>
                <td th:text="${lich.ghiChu}">Ghi ch√∫</td>
                <td th:switch="${lich.trangThai}">
                    <span th:case="0" class="status status-cho">Ch·ªù x√°c nh·∫≠n</span>
                    <span th:case="1" class="status status-da-xn">ƒê√£ x√°c nh·∫≠n</span>
                    <span th:case="2" class="status status-da-huy">ƒê√£ h·ªßy</span>
                    <span th:case="*" class="status status-khong-ro">Kh√¥ng r√µ</span>
                </td>
            </tr>
            </tbody>
        </table>

        <!-- PH√ÇN TRANG -->
        <div class="pagination" th:if="${lichSuPage.totalPages > 1}">
            <a th:if="${lichSuPage.hasPrevious()}" th:href="@{/thong-tin-nguoi-dung(page=${lichSuPage.number - 1})}">&laquo; Tr∆∞·ªõc</a>
            <span th:each="i : ${#numbers.sequence(0, lichSuPage.totalPages - 1)}">
                <a th:href="@{/thong-tin-nguoi-dung(page=${i})}"
                   th:text="${i + 1}"
                   th:classappend="${i == lichSuPage.number} ? 'current-page' : ''">1</a>
            </span>
            <a th:if="${lichSuPage.hasNext()}" th:href="@{/thong-tin-nguoi-dung(page=${lichSuPage.number + 1})}">Sau &raquo;</a>
        </div>
    </div>

    <div class="history" th:if="${lichSuPage == null or lichSuPage.empty}">
        <p style="color: #999; font-style: italic;">B·∫°n ch∆∞a c√≥ l·ªãch s·ª≠ ƒë·∫∑t s√¢n n√†o.</p>
    </div>
</div>
</body>
</html>
